if game.PlaceId ~= 6961824067 then return game.Players.LocalPlayer:Kick("USE THIS SCRIPT IN FLING THINGS AND PEOPLE") end
loadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local UserInputService = game:GetService("UserInputService")
local TextChatService = game:GetService("TextChatService")
local HttpService = game:GetService("HttpService")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local rs = game:GetService("ReplicatedStorage")
local RF = game:GetService("ReplicatedFirst")
local Players = game:GetService("Players")

local DestroyToy = rs.MenuToys.DestroyToy
local BombExplode = rs.BombEvents.BombExplode
local SetNetOwner = rs.GrabEvents.SetNetworkOwner
local CreateLine = rs.GrabEvents.CreateGrabLine
local DestroyLine = rs.GrabEvents.DestroyGrabLine
local SpawnToy = rs.MenuToys.SpawnToyRemoteFunction
local Struggle = rs.CharacterEvents.Struggle
local Ragdoll = rs.CharacterEvents.RagdollRemote
local StopVel = rs.GameCorrectionEvents.StopAllVelocity
local UpdLineColor = rs.DataEvents.UpdateLineColorsEvent
local StickyEvent = rs.PlayerEvents.StickyPartEvent

local Camera = workspace.CurrentCamera
local plr = Players.LocalPlayer
local Mouse = plr:GetMouse()
local detector
local CD 
local CG
local cons = {}
local pr = "!"
local inv = workspace[plr.Name.."SpawnedInToys"]

local hum
local char = plr.Character or plr.CharacterAdded:Wait()
local character = plr.Character or plr.CharacterAdded:Wait()
plr.CharacterAdded:Connect(function(charr)
    char = charr
    character = charr
	hum = charr.Humanoid
end)

local function getSeatedBlobman()
    local hum = character:FindFirstChildOfClass("Humanoid")
    local seat = hum and hum.SeatPart
    if seat then
        return seat:FindFirstAncestor("CreatureBlobman")
    end
    return nil
end

local function disc(name)
    for i,v in cons do
        if i == name then
            v:Disconnect()
        end
    end
end

local function getplot()
    for i = 1, 5 do
		local plot = workspace.Plots:FindFirstChild("Plot"..i)
		local value = plot.PlotSign.ThisPlotsOwners:FindFirstChild("Value")
		if plot and value and value.Value:find(plr.Name) then
			return plot
		end
	end
end

local function sno(obj)
    SetNetOwner:FireServer(obj, obj.CFrame)
end

local function spawntoy(toy, cf)
    if not plr.CanSpawnToy.Value then
        plr.CanSpawnToy.Changed:Wait()
    end
    task.spawn(function()
    SpawnToy:InvokeServer(
        toy,
        cf,
        Vector3.new(0,0,0)
    )
    end)
    local t = inv:FindFirstChild(toy) or inv:WaitForChild(toy, 1)
    if t then
        return t
    else
        local plot = getplot()
		if plot then
        	return workspace.PlotItems[plot.Name]:FindFirstChild(toy) or workspace.PlotItems[plot.Name]:WaitForChild(toy)
		end
	end
end

local function wt(time)
    task.wait(time)
	return true
end

local antiGrabEnabled = false
local toggleAntiBurn = false

local antiLagRunning = false
local selectedTarget = nil -- ￐ﾔ￐ﾻ￑ﾏ Bring Selected Player
local holding = false -- ￐ﾔ￐ﾻ￑ﾏ Transform to Inverted T
local loopConn = nil -- ￐ﾔ￐ﾻ￑ﾏ Transform to Inverted T
local sliders = {} -- ￐ﾔ￐ﾻ￑ﾏ Transform to Inverted T

local activeTargets = {} -- ￐ﾔ￐ﾻ￑ﾏ Spam Player
local lineSpamEnabled = true
local lagSpeed = 0.1
local killGrabT = nil
local ultragrabbb = false -- ￐ﾔ￐ﾻ￑ﾏ Massless Grab

local currentBlobS = nil -- ￐ﾔ￐ﾻ￑ﾏ Blobman Server Loop ￐ﾸ KickTarget
local spingrab = false
local spingrabConnection = nil
local inv = workspace:WaitForChild(plr.Name.."SpawnedInToys") -- ￐ﾔ￐ﾻ￑ﾏ Blobman auto functions
local rs = game:GetService("ReplicatedStorage")
local ccolors = {} -- ￐ﾔ￐ﾻ￑ﾏ Custom Line
for i = 1, 20 do
    ccolors[i] = Color3.fromRGB(0, 0, 0)
end
local lineColorsCount = 2
local rgbEnabled = false

local Window = Rayfield:CreateWindow({
Name = "Villan Hub",
Icon = 0, -- Icon in Topbar. Can use Lucide Icons (string) or Roblox Image (number). 0 to use no icon (default).
LoadingTitle = "Villan Hub",
LoadingSubtitle = "By Postyx",
Theme = "Default", -- Check https://docs.sirius.menu/rayfield/configuration/themes

DisableRayfieldPrompts = false,
DisableBuildWarnings = false, -- Prevents Rayfield from warning when the script has a version mismatch with the interface

ConfigurationSaving = {
    Enabled = true,
    FolderName = "Villan", -- Create a custom folder for your hub/game
    FileName = "Villan"
},

Discord = {
    Enabled = true, -- Prompt the user to join your Discord server if their executor supports it
    Invite = "j7bvWz4huW", -- The Discord invite code, do not include discord.gg/. E.g. discord.gg/ ABCD would be ABCD
    RememberJoins = true -- Set this to false to make them join the discord every time they load it up
},

KeySystem = false, -- Set this to true to use our key system
KeySettings = {
    Title = "KEY IN DISCORD",
    Subtitle = "Key System",
    Note = "No method of obtaining the key is provided", -- Use this to tell the user how to get a key
    FileName = "Key", -- It is recommended to use something unique as other scripts using Rayfield may overwrite your key file
    SaveKey = true, -- The user's key will be saved, but if you change the key, they will be unable to use your script
    GrabKeyFromSite = true, -- If this is true, set Key below to the RAW site you would like Rayfield to get the key from
    Key = {"sriendly"} -- List of keys that will be accepted by the system, can be RAW file links (pastebin, github etc) or simple strings ("hello","key22")
}
})
local combatTab = Window:CreateTab("Combat", "swords") -- Title, Image
local defenseTab = Window:CreateTab("Defense", "shield-ban") -- Title, Image
local lineTab = Window:CreateTab("Line", "minus")
local Players = game:GetService("Players")
local HRP = character:WaitForChild("HumanoidRootPart")
local inv = workspace:FindFirstChild(plr.Name.."SpawnedInToys")
local blob = inv and inv:FindFirstChild("CreatureBlobman")

local char
plr.CharacterAdded:Connect(function(chara)
    char = chara
    HRP = char:WaitForChild("HumanoidRootPart")
end)

local function getSeatedBlobman()
    local seat = character and character:FindFirstChildOfClass("Humanoid") and character.Humanoid.SeatPart
    return seat and seat:FindFirstAncestor("CreatureBlobman")
end

local slidersTab = Window:CreateTab("Sliders to cnotrol target","settings-2")
local loopTab = Window:CreateTab("Loop", "infinity")
local teleportTab = Window:CreateTab("Teleport", "chevrons-down-up") -- Title, Image
local keybindsTab = Window:CreateTab("Keybinds", "key") -- Title, Image
local miscTab = Window:CreateTab("Misc", "box") -- Title, Image
local targetTab = Window:CreateTab("Target", "align-vertical-space-around") -- Title, Image
local autoTab = Window:CreateTab("Auto", "refresh-ccw") -- Title, Image

function stopVelocityF()
    local char = plr.Character
    local hrp = char:WaitForChild("HumanoidRootPart")
    local hum = char:WaitForChild("Humanoid")
    hrp.AssemblyLinearVelocity = Vector3.zero
end

teleportTab:CreateKeybind({
Name = "TP to mouse",
CurrentKeybind = "Z",
HoldToInteract = false,
Flag = "TPtomouse1",
Callback = function(Keybind)
if Mouse.Target then
    HRP.CFrame = Mouse.Hit * CFrame.new(0, 5, 0)
    stopVelocityF()
end
end,
})

defenseTab:CreateToggle({
    Name = "Anti Paint",
    CurrentValue = false,
    Flag = "PaintDeleteToggle",
    Callback = function(state)
        antipaint = state
        if antipaint then
            for i,v in pairs(workspace:GetDescendants()) do
                if v.Name == "PaintPlayerPart" then
                    v:Destroy()
                end
            end
            cons["ap"] = workspace.DescendantAdded:Connect(function(d)
                if d.Name == "PaintPlayerPart" then
                    task.wait()
                    d:Destroy()
                end
            end)
        else
            disc("ap")
        end
    end,
})



keybindsTab:CreateKeybind({
	Name = "Anchor object",
	CurrentKeybind = "X",
	HoldToInteract = false,
	Flag = "Anchor",
	Callback = function()
	if workspace:FindFirstChild("GrabParts") then
		local obj = workspace:FindFirstChild("GrabParts").GrabPart.WeldConstraint.Part1.Parent
		if obj and not obj:FindFirstChild("BodyPosition", true) or not obj:FindFirstChild("BodyGyro", true) and not obj:FindFirstChild("SelectionBox", true) and obj:FindFirstChild("SoundPart") then
			local bp, bg, box = Instance.new("BodyPosition"), Instance.new("BodyGyro"), Instance.new("SelectionBox")
			box.Parent = obj
			box.Adornee = obj
			box.SurfaceTransparency = 0.8
			box.LineThickness = 0.05
			bp.Position = obj.SoundPart.Position
			bp.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
			bp.P = 1e9
			bp.D = 1e6
			bg.CFrame = obj.SoundPart.CFrame
			bp.Parent = obj.SoundPart
			bg.Parent = obj.SoundPart
			bg.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
			bg.P = 1e9
			bg.D = 1e6
		else
			obj.SoundPart:FindFirstChild("BodyPosition"):Destroy()
			obj.SoundPart:FindFirstChild("BodyGyro"):Destroy()
			obj:FindFirstChild("SelectionBox"):Destroy()
		end
	end
end
})



miscTab:CreateToggle({
    Name = "Jerk Off Tool",
    CurrentValue = false,
    Flag = "JerkOffToggle",
    Callback = function(state)
        local humanoid = plr.Character and plr.Character:FindFirstChildWhichIsA("Humanoid")
        local backpack = plr:FindFirstChildWhichIsA("Backpack")
        if not humanoid or not backpack then return end

        if state then
            for _, t in ipairs(backpack:GetChildren()) do
                if t:IsA("Tool") and t.Name == "Jerk Off" then
                    t:Destroy()
                end
            end

            StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.Backpack, true)

            local tool = Instance.new("Tool")
            tool.Name = "Jerk Off"
            tool.ToolTip = "in the stripped club. straight up \"jorking it\" . and by \"it\", haha, well. let's just say. My peanits."
            tool.RequiresHandle = false
            tool.Parent = backpack

            local jorkin = false
            local track = nil

            local function stop()
                jorkin = false
                if track then
                    track:Stop()
                    track = nil
                end
            end

            tool.Equipped:Connect(function() jorkin = true end)
            tool.Unequipped:Connect(stop)
            humanoid.Died:Connect(stop)

            task.spawn(function()
                while tool.Parent == backpack or tool.Parent == plr.Character do
                    if not jorkin then task.wait() continue end

                    local isR = (function(player)
                        local hum = player.Character and player.Character:FindFirstChildWhichIsA("Humanoid")
                        return hum and hum.RigType == Enum.HumanoidRigType.R15
                    end)(plr)
                    if not track then
                        local anim = Instance.new("Animation")
                        anim.AnimationId = not isR and "rbxassetid://72042024" or "rbxassetid://698251653"
                        track = humanoid:LoadAnimation(anim)
                    end

                    track:Play()
                    track:AdjustSpeed(isR and 0.7 or 0.65)
                    track.TimePosition = 0.6
                    task.wait(0.1)

                    while track and track.TimePosition < (not isR and 0.65 or 0.7) do task.wait(0.1) end

                    if track then
                        track:Stop()
                        track = nil
                    end
                end
            end)
        else
            for _, t in ipairs(backpack:GetChildren()) do
                if t:IsA("Tool") and t.Name == "Jerk Off" then
                    t:Destroy()
                end
            end
        end
    end,
})



local gucci = false

defenseTab:CreateToggle({
    Name = "Anti Gucci",
    CurrentValue = false,
    Callback = function(v)
    gucci = v
	if gucci then
		local blobb
		blobb = spawntoy("CreatureBlobman", HRP.CFrame * CFrame.new(5, 5, 20))
		repeat task.wait() until inv:FindFirstChild("CreatureBlobman") and blobb
		blobb:WaitForChild("VehicleSeat", 3):Sit(plr.Character.Humanoid)
		task.spawn(function()
			local endTime = tick() + 3
			while tick() < endTime do
				Ragdoll:FireServer(HRP, 0)
				task.wait()
			end
		end)
		task.wait()
		while blobb.VehicleSeat.Occupant ~= plr.Character.Humanoid do task.wait() end
		plr.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
		task.wait()
		blobb.VehicleSeat.CFrame = CFrame.new(0, 1e9, 0)
	end
    end
})

local infLineExtendT = true
local lineDistanceV = 0
local increaseLineExtendV = 1 
local uis = game:GetService("UserInputService")
local cam = workspace.CurrentCamera
function infLineExtendF()
    local char = plr.Character
    local hrp = char:WaitForChild("HumanoidRootPart")
    local hum = char:WaitForChild("Humanoid")
    uis.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseWheel then
            if lineDistanceV < 11 then
                lineDistanceV = 11
            end
    
            if input.Position.Z > 0 then
                lineDistanceV = lineDistanceV + increaseLineExtendV
            elseif input.Position.Z < 0 then
                lineDistanceV = lineDistanceV - increaseLineExtendV
            end
        end
    end)
    
    workspace.ChildAdded:Connect(function(child)
        if child.Name == "GrabParts" and child:IsA("Model") then
            if infLineExtendT and uis.MouseEnabled then
                local grabPartsModel = child

                grabPartsModel:WaitForChild("GrabPart")
                grabPartsModel:WaitForChild("DragPart")
                    
                local clonedDragPart = grabPartsModel.DragPart:Clone()
                clonedDragPart.Name = "DragPart1"
                clonedDragPart.AlignPosition.Attachment1 = clonedDragPart.DragAttach
                clonedDragPart.Parent = grabPartsModel
                
                lineDistanceV = (clonedDragPart.Position - cam.CFrame.Position).Magnitude
    
                clonedDragPart.AlignOrientation.Enabled = false
                grabPartsModel.DragPart.AlignPosition.Enabled = false
    
                task.spawn(function()
                    while grabPartsModel.Parent do
                        clonedDragPart.Position = cam.CFrame.Position + cam.CFrame.LookVector * lineDistanceV
                        task.wait()
                    end
            
                    lineDistanceV = 0
                end)
            end
        end
    end)
end

local shurikenLagServerT = false
function shurikenLagServerF()
    local char = plr.Character
    local hrp = char:WaitForChild("HumanoidRootPart")
    local hum = char:WaitForChild("Humanoid")
    if shurikenLagServerT then
        local ToyFolder
        for _, v in pairs(workspace.Plots:GetChildren()) do
            for _, b in pairs(v.PlotSign.ThisPlotsOwners:GetChildren()) do
                if b.Value == plr.Name then
                    ToyFolder = workspace.PlotItems[v.Name]
                end
            end
        end
        local decoys = {}
        local shurikens = {}

        for _, obj in pairs(ToyFolder:GetChildren()) do
            if obj:IsA("Model") then
                if obj.Name == "YouDecoy" then
                    table.insert(decoys, obj)
                elseif obj.Name == "NinjaShuriken" then
                    table.insert(shurikens, obj)
                end
            end
        end

        local maxshurikensperdecoy = 20

        for decoyindex, decoy in ipairs(decoys) do
            local decoyHRP = decoy:FindFirstChild("HumanoidRootPart")
            if decoyHRP and shurikenLagServerT then
                local startindex = (decoyindex - 1) * maxshurikensperdecoy + 1
                local endindex = startindex + maxshurikensperdecoy - 1
                for shurikenindex = startindex, endindex do
                    local shuriken = shurikens[shurikenindex]
                    if not shuriken then
                        break
                    end
                    local StickyPart = shuriken:FindFirstChild("StickyPart")
                    if StickyPart then
                        StickyPart.CanTouch = true
                        for _, part in pairs(decoy:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                        local BodyPosition = Instance.new("BodyPosition")
                        BodyPosition.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                        BodyPosition.P = 10000
                        BodyPosition.D = 500
                        BodyPosition.Parent = StickyPart
                        for _, part in pairs(shuriken:GetDescendants()) do
                            if part:IsA("BasePart") then
                                part.CanCollide = false
                            end
                        end
                        for _, child in pairs(StickyPart:GetChildren()) do
                            if child.Name == "TouchInterest" then
                                child:Destroy()
                            end
                        end
                        task.defer(function()
                            repeat
                                StickyPart.AssemblyAngularVelocity = Vector3.new(
                                    math.random(-100, 100) * 50,
                                    math.random(-100, 100) * 50,
                                    math.random(-100, 100) * 50
                                )
                                BodyPosition.Position = Vector3.new(
                                    decoyHRP.Position.X,
                                    decoyHRP.Position.Y - 4,
                                    decoyHRP.Position.Z
                                )
                                wait(0.0001)
                                BodyPosition.Position = Vector3.new(
                                    decoyHRP.Position.X,
                                    decoyHRP.Position.Y + 3,
                                    decoyHRP.Position.Z
                                )
                                wait(0.0001)
                            until not shurikenLagServerT or not shuriken.Parent or not decoy.Parent
                        end)
                    end
                    wait()
                end
            end
            wait()
        end
    end
end

defenseTab:CreateToggle({
   Name = "Anti Loop Kill",
   CurrentValue = false,
   Flag = "antiloopkill",
   Callback = function(v)
   if v then
		cons["antiloopkill"] = plr.CharacterAdded:Connect(function(char)
			local hrp = char:WaitForChild("HumanoidRootPart")
			hrp.CFrame = CFrame.new(524.7039794921875, 93.71200561523438, -375.0409851074219)
		end)
	else
		disc("antiloopkill")
	end
   end,
})

local antikick = false
local shurikenHighlights = {}

defenseTab:CreateToggle({
   Name = "Anti Kick",
   CurrentValue = false,
   Flag = "antikick",
   Callback = function(v)
   antikick = v
   
   if antikick then
       -- Создаем Highlight эффект для сюрикена
       task.spawn(function()
           while antikick do
               local shuriken = inv:FindFirstChild("NinjaShuriken1")
               if shuriken and not shurikenHighlights[shuriken] then
                   addHighlightToShuriken(shuriken)
               end
               task.wait(0.5)
           end
       end)
   else
       removeShurikenHighlights()
   end
   
  if antikick then
    task.spawn(function()
      task.wait(0.1)
      if not inv:FindFirstChild("NinjaShuriken1") then
        local shu = spawntoy("NinjaShuriken", HRP.CFrame * CFrame.new(5, 10, 20))
        local part = shu:WaitForChild("StickyPart")
        if part then
          sno(part)
          shu.Name = "NinjaShuriken1"
          addHighlightToShuriken(shu)
          task.wait(0.1)
          while antikick do
            local char = plr.Character
            if part.StickyWeld.Part1 ~= char.HumanoidRootPart.FirePlayerPart then
              sno(part)
              StickyEvent:FireServer(part, char.HumanoidRootPart.FirePlayerPart, CFrame.new(0,0,0,1,0,0,0,0,-1,0,1,0))
              task.wait(0.1)
            elseif shu.SoundPart:FindFirstChild("PartOwner") and shu.SoundPart:FindFirstChild("PartOwner").Value ~= plr.Name then
              sno(part)
              task.wait(0.1)
            end
            task.wait(0.1)
          end
        end
      end
    end)
  else
    removeShurikenHighlights()
  end
   end,
})

function addHighlightToShuriken(shuriken)
    if not shuriken or shurikenHighlights[shuriken] then return end
    
    local highlight = Instance.new("Highlight")
    highlight.Name = "AntiKickHighlight"
    highlight.FillColor = Color3.new(255, 255, 255)
    highlight.FillTransparency = 0.8
    highlight.OutlineColor = Color3.new(1, 0.5, 0.5)
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.Parent = shuriken
    
    shurikenHighlights[shuriken] = highlight
end

function removeShurikenHighlights()
    for shuriken, highlight in pairs(shurikenHighlights) do
        if highlight then
            highlight:Destroy()
        end
    end
    shurikenHighlights = {}
end

defenseTab:CreateToggle({
   Name = "Anti WD",
   CurrentValue = false,
   Flag = "antiWD",
   Callback = function(v)
	if v then
		for i,v in pairs(workspace:GetDescendants()) do
			if v.Name == "StickyRemoverPart" then
				v:Destroy()
			end
		end
		cons["antiWD"] = workspace.DescendantAdded:Connect(function(c)
			if c.Name == "StickyRemoverPart" then
				c:Destroy()
			end
		end)
	else
		disc("antiWD")
	end
   end,
})

local antiGrabConnection
local characterConnection

defenseTab:CreateToggle({
    Name = "Anti Grab",
    CurrentValue = antiGrabEnabled,
    Flag = "AntiGrab",
    Callback = function(state)
        local function setup(char)
            local hrp = char:WaitForChild("HumanoidRootPart")
            local head = char:WaitForChild("Head")
            local IsHeld = plr:WaitForChild("IsHeld")

            if antiGrabConnection then antiGrabConnection:Disconnect() end

            antiGrabConnection = IsHeld.Changed:Connect(function()
                if IsHeld.Value then
                    hrp.Anchored = true
                    head.Anchored = true
                    Struggle:FireServer()
                    Ragdoll:FireServer(hrp, 0)
                    StopVel:FireServer()

                    while IsHeld.Value do
                        task.wait(0.05)
                        Struggle:FireServer()
                    end

                    hrp.Anchored = false
                    head.Anchored = false
                end
            end)
        end

        if state then
            local char = plr.Character or plr.CharacterAdded:Wait()
            setup(char)

            characterConnection = plr.CharacterAdded:Connect(function(newChar)
                setup(newChar)
            end)
        else
            if antiGrabConnection then
                antiGrabConnection:Disconnect()
                antiGrabConnection = nil
            end
            if characterConnection then
                characterConnection:Disconnect()
                characterConnection = nil
            end
        end
    end,
})

defenseTab:CreateToggle({
    Name = "Anti Burn",
    CurrentValue = false,
    Flag = "AntiBurn",
    Callback = function(Value)
        toggleAntiBurn = Value

        local Barrier = workspace.Plots.Plot1.Barrier:GetChildren()[4]

        while toggleAntiBurn do
            local char = game.Players.LocalPlayer.Character
            if char and char:FindFirstChild("Humanoid") and char:FindFirstChild("HumanoidRootPart") then
                local fire = char.Humanoid:FindFirstChild("FireDebounce")
                local bpos = Barrier.CFrame
                if fire and fire.Value == true then
                    Barrier.CFrame = char.HumanoidRootPart.CFrame
                    task.wait(0.5)
                    Barrier.CFrame = bpos
                    fire.Value = false
                    else
                    Barrier.CFrame = bpos
                end
            end
            wait()
        end
    end
})

local antiblobman = false
local antiblobmancon

defenseTab:CreateToggle({
    Name = "Anti Blobman",
    CurrentValue = false,
    Flag = "AntiBlobman",
    Callback = function(value)
        antiblobman = value
        if antiblobman then
            for _,v in pairs(Players:GetPlayers()) do
                for _,i in pairs(workspace[v.Name.."SpawnedInToys"]:GetChildren()) do
                    if i.Name == "CreatureBlobman" then
                        local rd,ld = i:WaitForChild("RightDetector"), i:WaitForChild("LeftDetector")
                        if rd then
                            rd.RightWeld.Enabled = false
                            rd.RightAlignOrientation.Enabled = false
                        end
                        if ld then
                            ld.LeftWeld.Enabled = false
                            ld.LeftAlignOrientation.Enabled = false
                        end
                    end
                end
            end
            for i = 1, 5 do
                for _,v in pairs(workspace.Plots["Plot"..i]:GetChildren()) do
                    if v.Name == "CreatureBlobman" then
                        local rd,ld = v:WaitForChild("RightDetector"), v:WaitForChild("LeftDetector")
                        if rd then
                            rd.RightWeld.Enabled = false
                            rd.RightAlignOrientation.Enabled = false
                        end
                        if ld then
                            ld.LeftAlignOrientation.Enabled = false
                            ld.LeftWeld.Enabled = false
                        end
                    end
                end
            end
            antiblobmancon = workspace.DescendantAdded:Connect(function(v)
				pcall(function()
					if v.Name == "CreatureBlobman" and antiblobman then
						local rd,ld = v:WaitForChild("RightDetector", 1), v:WaitForChild("LeftDetector", 1)
						if not v:IsDescendantOf(inv) then
							if rd then
								rd.RightWeld.Enabled = false
								rd.RightAlignOrientation.Enabled = false
							end
							if ld then
								ld.LeftAlignOrientation.Enabled = false
								ld.LeftWeld.Enabled = false
							end
						end
					end
				end)
            end)
        else
            if antiblobmancon then
                antiblobmancon:Disconnect()
                antiblobmancon = nil
            end
        end
    end
})

_G.strength = 400

local isMobile = UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled

local strengthConnection
local mobileButtonConn

-- Слайдер
local strengthSlider = combatTab:CreateSlider({
    Name = "Strength",
    Range = {300, 40000},
    Increment = 1,
    Suffix = "S",
    CurrentValue = _G.strength,
    Flag = "StrengthSlider",
    Callback = function(value)
        _G.strength = value
    end,
})

-- Переключатель
local strengthToggle = combatTab:CreateToggle({
    Name = "Strength",
    CurrentValue = false,
    Flag = "StrengthToggle",
    Callback = function(enabled)
        if enabled then
            strengthConnection = workspace.ChildAdded:Connect(function(model)
                if model.Name == "GrabParts" then
                    local partToImpulse = model:FindFirstChild("GrabPart")
                        and model.GrabPart:FindFirstChild("WeldConstraint")
                        and model.GrabPart.WeldConstraint.Part1

                    if not partToImpulse then return end

                    if isMobile then
                        local btn = plr.PlayerGui
                            :WaitForChild("ContextActionGui")
                            :WaitForChild("ContextButtonFrame")
                            :WaitForChild("ContextActionButton")

                        local icon = btn:FindFirstChild("ActionIcon")
                        if icon and icon:IsA("ImageLabel") and icon.Image == "http://www.roblox.com/asset/?id=9603678090" then
                            mobileButtonConn = btn.MouseButton1Click:Connect(function()
                                local bv = Instance.new("BodyVelocity", partToImpulse)
                                bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                                bv.Velocity = Camera.CFrame.LookVector * _G.strength
                                Debris:AddItem(bv, 1)
                            end)

                            model:GetPropertyChangedSignal("Parent"):Connect(function()
                                if not model.Parent and mobileButtonConn then
                                    mobileButtonConn:Disconnect()
                                    mobileButtonConn = nil
                                end
                            end)
                        end
                    else
                        model:GetPropertyChangedSignal("Parent"):Connect(function()
                            if not model.Parent and UserInputService:GetLastInputType() == Enum.UserInputType.MouseButton2 then
                                local bv = Instance.new("BodyVelocity", partToImpulse)
                                bv.MaxForce = Vector3.new(math.huge, math.huge, math.huge)
                                bv.Velocity = Camera.CFrame.LookVector * _G.strength
                                Debris:AddItem(bv, 1)
                            end
                        end)
                    end
                end
            end)
        elseif strengthConnection then
            strengthConnection:Disconnect()
            strengthConnection = nil
            if mobileButtonConn then
                mobileButtonConn:Disconnect()
                mobileButtonConn = nil
            end
        end
    end,
})

local antibanana = false
local hiploop = false

defenseTab:CreateToggle({
    Name = "Delete Legs",
    Callback = function(state)
        antibanana = state
        hiploop = state
        if antibanana then
            if character:FindFirstChild("Left Leg") and character:FindFirstChild("Right Leg") then
                local ll = character:FindFirstChild("Left Leg")
                local rl = character:FindFirstChild("Right Leg")
                local void = workspace.FallenPartsDestroyHeight
                local pos = character.Torso.CFrame
                workspace.FallenPartsDestroyHeight = -100
                Ragdoll:FireServer(HRP, 2)
                task.wait(0.5)
                rl.CFrame = CFrame.new(0, -10000, 0)
                ll.CFrame = CFrame.new(0, -10000, 0)
                task.wait(0.3)
                character.Torso.CFrame = CFrame.new(0, -9970, 0)
                task.wait(0.5)
                character.Torso.CFrame = pos
                task.wait(0.5)
                workspace.FallenPartsDestroyHeight = void
                task.spawn(function()
                if not character:FindFirstChild("Left Leg") and not character:FindFirstChild("Right Leg") then
                    while hiploop do
                        if plr.PlayerGui.ControlsGui.PCFrame.Stand.Visible == false then
                            character.Humanoid.HipHeight = 2
                        else
                            character.Humanoid.HipHeight = 0
                        end
                        task.wait(0.03)
                    end
                end
                end)
            end
        end
    end
})

defenseTab:CreateToggle({
    Name = "Anti Lag",
    CurrentValue = false,
    Flag = "AntiLag",
    Callback = function(state)
		if state then
			game:GetService("Players").LocalPlayer.PlayerScripts.CharacterAndBeamMove.Disabled = true
		else
			game:GetService("Players").LocalPlayer.PlayerScripts.CharacterAndBeamMove.Disabled = false
		end
    end
})

miscTab:CreateToggle({
    Name = "Anti Barrier",
    CurrentValue = false,
    Flag = "AntiBarrier",
    Callback = function(enabled)
        local plots = workspace:FindFirstChild("Plots")
        if not plots then return end

        for _, plot in ipairs(plots:GetChildren()) do
            local barrierModel = plot:FindFirstChild("Barrier")
            if barrierModel then
                for _, part in ipairs(barrierModel:GetChildren()) do
                    if part:IsA("BasePart") and part.Name == "PlotBarrier" then
                        part.CanCollide = not enabled
                    end
                end
            end
        end
    end,
})

local thirdPersonLoop -- Declared globally

miscTab:CreateToggle({
    Name = "Unlock Third Person",
    CurrentValue = false,
    Flag = "ThirdPersonToggle",
    Callback = function(enabled)
        if enabled then
            plr.CameraMode = Enum.CameraMode.Classic
            plr.CameraMaxZoomDistance = 1000
            plr.CameraMinZoomDistance = 0.5

            thirdPersonLoop = task.spawn(function()
                while true do
                    task.wait(0.2)
                    local char = plr.Character
                    if not char or not char:FindFirstChild("HumanoidRootPart") then break end
                    for _, partName in ipairs({
                        "Torso", "Left Leg", "Right Leg", "Left Arm", "Right Arm", "Head"
                    }) do
                        local part = char:FindFirstChild(partName)
                        if part and part:IsA("BasePart") then
                            part.Transparency = 0
                        end
                    end
                end
            end)
        else
            plr.CameraMode = Enum.CameraMode.LockFirstPerson
            plr.CameraMaxZoomDistance = 0.5
            plr.CameraMinZoomDistance = 0.5

            if thirdPersonLoop then
                task.cancel(thirdPersonLoop)
                thirdPersonLoop = nil
            end
        end
    end,
})

function VoidGrabbedLimbs()

    local character = plr.Character or plr.CharacterAdded:Wait()
    local grabModel = workspace:FindFirstChild("GrabParts")
    if not grabModel then 
        return 
    end

    for _, grabPart in ipairs(grabModel:GetChildren()) do
        if grabPart:IsA("BasePart") then
            local weld = grabPart:FindFirstChildOfClass("WeldConstraint")
            if weld and weld.Part1 then
                local targetChar = weld.Part1:FindFirstAncestorOfClass("Model")
                if targetChar and targetChar ~= character then

                    local limbs = {
                        targetChar:FindFirstChild("Left Arm"),
                        targetChar:FindFirstChild("Right Arm"),
                        targetChar:FindFirstChild("Left Leg"),
                        targetChar:FindFirstChild("Right Leg")
                    }

                    local allLimbs = true
                    for _, limb in ipairs(limbs) do
                        if not (limb and limb:IsA("BasePart")) then
                            allLimbs = false
                            break
                        end
                    end

                    if allLimbs then
                        for _, limb in ipairs(limbs) do
                            limb.CFrame = CFrame.new(0, -59990, 0)
                        end
                    else
                    end
                end
            end
        end
    end
end

local function teleportLimb(limbName)
    local character = plr.Character or plr.CharacterAdded:Wait()
    local grabModel = workspace:FindFirstChild("GrabParts")
    if not grabModel then return end

    for _, grabPart in ipairs(grabModel:GetChildren()) do
        if not grabPart:IsA("BasePart") then continue end
        local weld = grabPart:FindFirstChildOfClass("WeldConstraint")
        if not (weld and weld.Part1) then continue end

        local targetChar = weld.Part1:FindFirstAncestorOfClass("Model")
        if targetChar and targetChar ~= character then
            local limb = targetChar:FindFirstChild(limbName)
            if limb and limb:IsA("BasePart") then
                limb.CFrame = CFrame.new(0, -59990, 0)
            end
            return
        end
    end
end


function VoidLeftArm() teleportLimb("Left Arm") end
function VoidRightArm() teleportLimb("Right Arm") end
function VoidLeftLeg() teleportLimb("Left Leg") end
function VoidRightLeg() teleportLimb("Right Leg") end

keybindsTab:CreateSection("To use destroy player ragdoll target delete legs or arms and spawn toy in the target")

local destroyplayerKeybind = keybindsTab:CreateKeybind({
    Name = "Destroy Player(LeftArm)",
    CurrentKeybind = "C",
    HoldToInteract = false,
    Flag = "DestroyPlayer",
    Callback = function()
        VoidLeftArm()
    end,
})

local destroyplayer1Keybind = keybindsTab:CreateKeybind({
    Name = "Destroy Player(RightArm)",
    CurrentKeybind = "V",
    HoldToInteract = false,
    Flag = "DestroyPlayer1",
    Callback = function()
        VoidRightArm()
    end,
})

local destroyplayer2Keybind = keybindsTab:CreateKeybind({
    Name = "Destroy Player(LeftLeg)",
    CurrentKeybind = "B",
    HoldToInteract = false,
    Flag = "DestroyPlayer2",
    Callback = function()
        VoidLeftLeg()
    end,
})

local destroyplayer3Keybind = keybindsTab:CreateKeybind({
    Name = "Destroy Player(RightLeg)",
    CurrentKeybind = "N",
    HoldToInteract = false,
    Flag = "DestroyPlayer3",
    Callback = function()
        VoidRightLeg()
    end,
})

local destroyplayer4Keybind = keybindsTab:CreateKeybind({
    Name = "Destroy Player",
    CurrentKeybind = "Z",
    HoldToInteract = false,
    Flag = "DestroyPlayer4",
    Callback = function()
        VoidGrabbedLimbs()
    end,
})

local bringtar

local selectedTargetDropdown = teleportTab:CreateDropdown({ -- Renamed dropdown
    Name = "Target Player",
    Options = {"None"},
    CurrentOption = "None",
    Flag = "TargetPlayer",
    Callback = function(option)
        local username = option[1]:match("%((.-)%)")
        if option[1] then
			bringtar = Players:FindFirstChild(username)
		end
    end,
})

teleportTab:CreateButton({
    Name = "Bring Selected Player",
    Callback = function()
        if bringtar and bringtar.Character then
            local pos = HRP.CFrame
            print("1")
            HRP.CFrame = bringtar.Character.HumanoidRootPart.CFrame * CFrame.new(0, -3, 0)
            task.wait(0.3)
            print("2")
            sno(bringtar.Character.HumanoidRootPart)
            print("3")
            task.wait(0.1)
            bringtar.Character.HumanoidRootPart.AssemblyLinearVelocity = Vector3.zero
            print("4")
            bringtar.Character.HumanoidRootPart.CFrame = pos * CFrame.new(0, 0, -5)
            print("5")
            HRP.CFrame = pos
            print("6")
            DestroyLine:FireServer(bringtar.Character.HumanoidRootPart)
        else
            print("error")
        end
    end,
})

slidersTab:CreateSection("Target player")

-- Определение игрока по таргету
function getTargetedPlayer()
    local t = Mouse.Target
    if not t then return end
    local model = t:FindFirstAncestorOfClass("Model")
    local plr = model and Players:GetPlayerFromCharacter(model)
    if not plr then return end

    local hrp = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
    local myHrp = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
    if hrp and myHrp and (hrp.Position - myHrp.Position).Magnitude <= 50 then
        return plr
    end
end

-- Смещения
offsetValues = {
    LeftArm={X=-2,Y=0.5,Z=0,RotX=0,RotY=0,RotZ=0},
    RightArm={X=2,Y=0.5,Z=0,RotX=0,RotY=0,RotZ=0},
    LeftLeg={X=-0.5,Y=-2,Z=0,RotX=0,RotY=0,RotZ=0},
    RightLeg={X=0.5,Y=-2,Z=0,RotX=0,RotY=0,RotZ=0},
    Head={X=0,Y=1.5,Z=0,RotX=0,RotY=0,RotZ=0},
    Torso={X=0,Y=0,Z=0,RotX=0,RotY=0,RotZ=0}
}

-- Слайдеры
function createSliders()
    if sliders.Created then return end
    sliders.Created = true
    for part, values in pairs(offsetValues) do
        slidersTab:CreateSection(part.." Position")
        sliders[part] = {}
        for axis,val in pairs(values) do
            local range = axis:find("Rot") and {-180,180} or {-10,10}
            local inc = axis:find("Rot") and 1 or 0.1
            sliders[part][axis] = slidersTab:CreateSlider({
                Name = part.." "..axis,
                Range = range,
                Increment = inc,
                CurrentValue = val,
                Callback = function(v) offsetValues[part][axis]=v end
            })
        end
    end
end

-- Применение позы
function applyInvertedT(player)
    local char = player.Character
    if not char then return end
    local torso = char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso")
    local parts = {
        Torso=torso, Head=char:FindFirstChild("Head"),
        LeftArm=char:FindFirstChild("Left Arm"), RightArm=char:FindFirstChild("Right Arm"),
        LeftLeg=char:FindFirstChild("Left Leg"), RightLeg=char:FindFirstChild("Right Leg")
    }
    for _,p in pairs(parts) do if not p then return end p.Anchored,p.CanCollide,p.Massless=false,false,true end
    createSliders()

    if loopConn then loopConn:Disconnect() end
    loopConn = RunService.Heartbeat:Connect(function()
        local root = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
        if not root then return end
        local baseCF = root.CFrame * CFrame.new(0,-2,-4)

        for partName,values in pairs(offsetValues) do
            local p = parts[partName]
            if p then
                p.CFrame = baseCF * CFrame.new(values.X,values.Y,values.Z) *
                        CFrame.Angles(math.rad(values.RotX),math.rad(values.RotY),math.rad(values.RotZ))
            end
        end
        local hrp = char:FindFirstChild("HumanoidRootPart")
        if hrp then SetNetOwner:FireServer(hrp, baseCF) end
    end)
end

-- Пресеты
function applyXXXPreset()
    local values = {
        LeftArm={X=-1.9,Y=0.6,Z=3.9,RotX=-46,RotY=77,RotZ=0},
        RightArm={X=2,Y=1.2,Z=3.3,RotX=-96,RotY=30,RotZ=-90},
        LeftLeg={X=-0.5,Y=-2,Z=2.3,RotX=0,RotY=0,RotZ=-180},
        RightLeg={X=0.5,Y=-1.9,Z=2.1,RotX=-180,RotY=0,RotZ=0},
        Head={X=0,Y=1.1,Z=2.5,RotX=-45,RotY=-174,RotZ=0},
        Torso={X=0,Y=-0.1,Z=2.4,RotX=9,RotY=180,RotZ=-1}
    }
    for part,axes in pairs(values) do
        for axis,val in pairs(axes) do
            offsetValues[part][axis]=val
            if sliders[part] and sliders[part][axis] then sliders[part][axis]:Set(val) end
        end
    end
end

function applySitOnPreset()
    local values = {
        LeftArm={X=-1.1,Y=4.2,Z=4.2,RotX=51,RotY=0,RotZ=46},
        RightArm={X=1.1,Y=4.2,Z=4.2,RotX=51,RotY=0,RotZ=-46},
        LeftLeg={X=-0.8,Y=3.2,Z=4,RotX=90,RotY=0,RotZ=0},
        RightLeg={X=0.8,Y=3.2,Z=4,RotX=90,RotY=0,RotZ=0},
        Head={X=0,Y=5.7,Z=5,RotX=0,RotY=0,RotZ=0},
        Torso={X=0,Y=4.2,Z=5,RotX=0,RotY=0,RotZ=0}
    }
    for part,axes in pairs(values) do
        for axis,val in pairs(axes) do
            offsetValues[part][axis]=val
            if sliders[part] and sliders[part][axis] then sliders[part][axis]:Set(val) end
        end
    end
end

-- Бинды и кнопки
keybindsTab:CreateKeybind({
    Name="Take a player",
    CurrentKeybind="Q",
    HoldToInteract=false,
    Flag="TransformKey",
    Callback=function()
        if holding then
            if loopConn then loopConn:Disconnect() loopConn=nil end
            holding=false
            return
        end
        local target=getTargetedPlayer()
        if target then holding=true applyInvertedT(target) end
    end
})

slidersTab:CreateButton({Name="Apply XXX Preset",Callback=applyXXXPreset})
slidersTab:CreateButton({Name="Apply Sit On Preset",Callback=applySitOnPreset})

lineTab:CreateSlider({
   Name = "Extend",
   Range = {1, 100},
   Increment = 1,
   Suffix = "Bananas",
   CurrentValue = 10,
   Flag = "linerrrr",
   Callback = function(Value)
	increaseLineExtendV = Value
   end,
})

local extendLineToggle = lineTab:CreateToggle({
    Name = "Extend Line",
    CurrentValue = false,
    Flag = "extendLineToggleFlag",
    Callback = function(Value)
        infLineExtendT = Value
        infLineExtendF()
    end
})

local lagEnabled = false

local shurikenLagServerToggle = lineTab:CreateToggle({
    Name = "Shuriken Lag Server",
    CurrentValue = false,
    Flag = "shurikenLagServerToggleFlag",
    Callback = function(Value)
        shurikenLagServerT = Value
        shurikenLagServerF()
    end
})

lineTab:CreateSection("Line Lag")

lineTab:CreateSlider({
    Name = "Lag Speed",
    Range = {0.01, 1},
    Increment = 0.01,
    CurrentValue = lagSpeed,
    Flag = "LagSpeedSlider",
    Callback = function(val)
        lagSpeed = 1 - val + 0.01
    end,
})

lineTab:CreateToggle({
    Name = "Server Lag",
    CurrentValue = false,
    Flag = "ServerLagToggle",
    Callback = function(state)
        lagEnabled = state
        task.spawn(function()
            while lagEnabled do
                for i,v in pairs(game.Players:GetPlayers()) do
                    if v.Character and v.Character:FindFirstChild("Head") then
                        game:GetService("ReplicatedStorage"):WaitForChild("GrabEvents"):WaitForChild("CreateGrabLine"):FireServer(v.Character.Head, v.Character.Head.CFrame)
                    end
                end
                task.wait(lagSpeed)
            end
        end)
    end
})

local function killGrabF()
    local char = plr.Character or plr.CharacterAdded:Wait()
    local hrp = char:WaitForChild("HumanoidRootPart") -- Not used here
    local hum = char:WaitForChild("Humanoid") -- Not used here

    workspace.ChildAdded:Connect(function(e)
        if e.Name == "GrabParts" and killGrabT == true and e:FindFirstChild("GrabPart") then
            local part1 = e.GrabPart:FindFirstChild("WeldConstraint") and e.GrabPart.WeldConstraint.Part1
            if part1 and part1.Parent and part1.Parent.Name ~= char.Name then
                local targetHumanoid = part1.Parent:FindFirstChildOfClass("Humanoid")
                if targetHumanoid then
                    targetHumanoid.Health = 0
                end
            end
        end
    end)
end

combatTab:CreateToggle({
    Name = "Kill Grab",
    CurrentValue = false,
    Flag = "KillGrabParts",
    Callback = function(state)
        killGrabT = state
        if state == true then
            killGrabF()
        end
    end
})

combatTab:CreateToggle({
    Name = "Massless Grab",
    CurrentValue = false,
    Flag = "MasslessGrab",
    Callback = function(state)
        ultragrabbb = state
    end,
})

workspace.ChildAdded:Connect(function(model) -- neon
    if model.Name == "GrabParts" and ultragrabbb then
        local dragPart = model:FindFirstChild("DragPart")
        if dragPart then
            dragPart.Color = Color3.fromRGB(255, 0, 0)
            dragPart.Transparency = 1
            dragPart.Material = Enum.Material.Neon

            local ao = dragPart:FindFirstChild("AlignOrientation")
            local ap = dragPart:FindFirstChild("AlignPosition")

            if ao then
                ao.Responsiveness = 200
                ao.MaxTorque = math.huge
            end
            if ap then
                ap.MaxAxesForce = Vector3.new(math.huge, math.huge, math.huge)
                ap.MaxForce = math.huge
                ap.Responsiveness = 200
            end
        end
    end
end)

keybindsTab:CreateSection("Delete")

local deleteObject = keybindsTab:CreateKeybind({
    Name = "Delete Object",
    CurrentKeybind = "R",
    HoldToInteract = false,
    Flag = "DeleteLookedUnanchored",
    Callback = function()
        local character = plr.Character or plr.CharacterAdded:Wait()
        local hrp = character:FindFirstChild("HumanoidRootPart")
        if not hrp then return end

        local rayOrigin = Camera.CFrame.Position
        local rayDirection = Camera.CFrame.LookVector * 50

        local params = RaycastParams.new()
        params.FilterDescendantsInstances = {character}
        params.FilterType = Enum.RaycastFilterType.Blacklist

        local result = workspace:Raycast(rayOrigin, rayDirection, params)

        if result then
            local part = result.Instance
            if part:IsA("BasePart") and not part.Anchored and (part.Position - hrp.Position).Magnitude <= 50 then
                local originalCFrame = part.CFrame

                SetNetOwner:FireServer(part, originalCFrame)

                part.CFrame = originalCFrame + Vector3.new(99999, 100, 0)
            end
        end
    end,
})

local function getTarget()
    local target = Mouse.Target
    if not target then return nil end
    local model = target:FindFirstAncestorOfClass("Model")
    if not model then return nil end
    local player_instance = Players:GetPlayerFromCharacter(model)
    if not player_instance or player_instance == plr then return nil end
    return player_instance
end

local function startSpam(player_instance)
    if not player_instance.Character or not player_instance.Character:FindFirstChild("HumanoidRootPart") then return end

    local bodypos = Instance.new("BodyPosition")
    bodypos.MaxForce = Vector3.new(1e9, 1e9, 1e9)
    bodypos.P = 1e5
    bodypos.D = 1e3
    bodypos.Position = player_instance.Character.PrimaryPart.Position
    bodypos.Parent = player_instance.Character.PrimaryPart

    local running = true
    local thread = task.spawn(function()
        while running do
            pcall(function()
                local char = player_instance.Character
                local head = char and char:FindFirstChild("Head")
                local myHead = plr.Character and plr.Character:FindFirstChild("Head")
                if head and myHead then
                    if (head.Position - myHead.Position).Magnitude <= 50 then
                        bodypos.Position = char.PrimaryPart.Position
                        SetNetOwner:FireServer(head, char:GetPrimaryPartCFrame())
                    end
                end
            end)
            task.wait()
        end
    end)

    activeTargets[player_instance] = function()
        running = false
        task.cancel(thread)
        bodypos:Destroy()
    end
end

local function stopSpam(player_instance)
    if activeTargets[player_instance] then
        activeTargets[player_instance]()
        activeTargets[player_instance] = nil
    end
end

miscTab:CreateKeybind({
    Name = "Spam player",
    CurrentKeybind = "Y",
    HoldToInteract = false,
    Callback = function()
        local targetPlayer_instance = getTarget()
        if targetPlayer_instance then
            if activeTargets[targetPlayer_instance] then
                stopSpam(targetPlayer_instance)
            else
                startSpam(targetPlayer_instance)
            end
        end
    end,
})

local function updateCurrentBlobmanF_for_blobman_loops() -- Renamed to avoid confusion with `updateCurrentBlobmanF`
    for _, blobs in workspace:GetDescendants() do
        if blobs.Name == "CreatureBlobman" and blobs:FindFirstChild("VehicleSeat") and blobs.VehicleSeat:FindFirstChild("SeatWeld") then
            if blobs.VehicleSeat.SeatWeld.Part1 == plr.Character:FindFirstChild("HumanoidRootPart") then
                currentBlobS = blobs
            end
        end
    end
end

local function blobGrabF(blob, target, side)
    local args = {
        [1] = blob:FindFirstChild(side.."Detector"),
        [2] = target,
        [3] = blob:FindFirstChild(side.."Detector"):FindFirstChild(side.."Weld"),
    }
    blob.BlobmanSeatAndOwnerScript.CreatureGrab:FireServer(unpack(args))
end

local function blobDropF(blob, target, side)
    local args = {
        [1] = blob:FindFirstChild(side.."Detector"):FindFirstChild(side.."Weld"),
        [2] = target,
    }
    blob.BlobmanSeatAndOwnerScript.CreatureDrop:FireServer(unpack(args))
end

local function silentBlobGrabF(blob, target, side)
    local args = {
        [1] = blob:FindFirstChild(side.."Detector"),
        [2] = target,
        [3] = blob:FindFirstChild(side.."Detector").AttachPlayer,
    }
    blob.BlobmanSeatAndOwnerScript.CreatureGrab:FireServer(unpack(args))
end

local function setNetOwnerRemote(targetPart)
    local args = {
        targetPart,
        targetPart.CFrame
    }
    game:GetService("ReplicatedStorage"):WaitForChild("GrabEvents"):WaitForChild("SetNetworkOwner"):FireServer(unpack(args))
end

local function loopPlayerBlobF()
    updateCurrentBlobmanF_for_blobman_loops()
    if not currentBlobS then return end

    local function validHRP(plr)
        local char = plr.Character
        if not char then return nil end
        return char:FindFirstChild("HumanoidRootPart")
    end

    local lastCharacterMap = {}

    while blobLoopT do
        for _, name in ipairs(playersInLoop2V) do
            local player = Players:FindFirstChild(name)
            if player then
                local char = player.Character
                local hrp = validHRP(player)

                if char and hrp then
                    if lastCharacterMap[player] ~= char then
                        lastCharacterMap[player] = char

                        blobGrabF(currentBlobS, hrp, "Left")
                        task.wait(1)

                        blobDropF(currentBlobS, hrp, "Left")
                        task.wait()

                        setNetOwnerRemote(hrp)
                        
                        task.wait(0.1)

                        local localHRP = plr.Character and plr.Character:FindFirstChild("HumanoidRootPart")
                        if localHRP then
                            hrp.CFrame = localHRP.CFrame + Vector3.new(0, 15, 0)
                        end

                        task.wait(1)

                        blobGrabF(currentBlobS, hrp, "Left")
                    end
                end
            end
        end
        task.wait(0.5)
    end
end

local lineSection = lineTab:CreateSection("Custom Line")

local function save_line_colors()
    local data = {}
    for i, color in ipairs(ccolors) do
        data[i] = {
            R = color.R,
            G = color.G,
            B = color.B
        }
    end
    local encoded = HttpService:JSONEncode(data)
    writefile("LineColor.lua", encoded)
end

if isfile("LineColor.lua") then
    local decoded = HttpService:JSONDecode(readfile("LineColor.lua"))
    for i, color in ipairs(decoded) do
        ccolors[i] = Color3.fromRGB(color.R * 255, color.G * 255, color.B * 255)
    end
end

local function set_line_color()
    local args = {}

    for i = 1, lineColorsCount do
        table.insert(args, ColorSequenceKeypoint.new((i - 1) / (lineColorsCount - 1), ccolors[i]))
    end

    UpdLineColor:FireServer(ColorSequence.new(args))
end

lineTab:CreateToggle({
    Name = "Loop Random Line Color",
    CurrentValue = false,
    Flag = "LoopRandomLineColor",
    Callback = function(Value)
        rgbEnabled = Value
        spawn(function()
            while rgbEnabled do
                local args = {}
                for i = 1, lineColorsCount do
                    local randColor = Color3.fromRGB(math.random(0, 255), math.random(0, 255), math.random(0, 255))
                    ccolors[i] = randColor
                    table.insert(args, ColorSequenceKeypoint.new((i - 1) / (lineColorsCount - 1), randColor))
                end
                ReplicatedStorage.DataEvents.UpdateLineColorsEvent:FireServer(ColorSequence.new(args))
                wait(0.2)
            end
        end)
    end
})

lineTab:CreateSlider({
    Name = "Line Colors Count",
    Range = {1, 20},
    Increment = 1,
    Suffix = "",
    CurrentValue = 2,
    Flag = "LineColorsCount",
    Callback = function(Value)
        lineColorsCount = Value
        set_line_color()
    end
})

for i = 1, 20 do
    lineTab:CreateColorPicker({
        Name = "Line Color "..i,
        Color = ccolors[i],
        Callback = function(Value)
            ccolors[i] = Value
            set_line_color()
            save_line_colors() -- ￐ﾡ￐ﾾ￑ﾅ￑ﾀ￐ﾰ￐ﾽ￑ﾏ￐ﾵ￐ﾼ ￐﾿￑ﾀ￐ﾸ ￐ﾺ￐ﾰ￐ﾶ￐ﾴ￐ﾾ￐ﾼ ￐ﾸ￐ﾷ￐ﾼ￐ﾵ￐ﾽ￐ﾵ￐ﾽ￐ﾸ￐ﾸ
        end
    })
end

lineTab:CreateButton({
    Name = "Save Line Colors to File",
    Callback = function()
        save_line_colors()
        Rayfield:Notify({
            Title = "Success",
            Content = "Colors saved to LineColor.lua",
            Duration = 3
        })
    end
})

local spinspeed = 10

combatTab:CreateSlider({
Name = "Speed",
Range = {10, 1000},
Increment = 10,
Suffix = "Spin Speed",
CurrentValue = 10,
Flag = "spinspeed",
Callback = function(Value)
spinspeed = Value
end,
})

combatTab:CreateToggle({
Name = "Spin Grab",
CurrentValue = false,
Flag = "SpinGrab",
Callback = function(v)
    spingrab = v
    if spingrab then
        local char = plr.Character or plr.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")

        spingrabConnection = workspace.ChildAdded:Connect(function(e)
            if e.Name == "GrabParts" and e:FindFirstChild("GrabPart") then
            local dragPart = workspace.GrabParts:FindFirstChild("DragPart")
            if dragPart then
                local ao = dragPart:FindFirstChild("AlignOrientation")
                if ao then
                    ao:Destroy()
                end
            end
            local part1 = e.GrabPart:FindFirstChild("WeldConstraint") and e.GrabPart.WeldConstraint.Part1
            if part1 then
                local spin = Instance.new("BodyAngularVelocity")
                spin.AngularVelocity = Vector3.new(0, spinspeed, 0)
                spin.MaxTorque = Vector3.new(math.huge, math.huge, math.huge)
                spin.Parent = part1
                task.wait(0.1)
            end
            end
        end)
    else
        if spingrabConnection then
            spingrabConnection:Disconnect()
            spingrabConnection = nil
        end
    end
end,
})

function antiExplodeF()
    local char = plr.Character
    local hrp = char:WaitForChild("HumanoidRootPart")
    local hum = char:WaitForChild("Humanoid")
    workspace.ChildAdded:Connect(function(model)
        if model.Name == "Part" and char ~= nil and antiExplodeT then
            local mag = (model.Position - hrp.Position).Magnitude
            if mag <= 20 then
                hrp.Anchored = true
                wait(0.01)
                while char["Right Arm"].RagdollLimbPart.CanCollide == true do wait(0.001) end
                hrp.Anchored = false
            end
        end
    end)
end

antiExplodeT = true

local antiExplodeToggle = defenseTab:CreateToggle({
    Name = "Anti Explode",
    CurrentValue = false,
    Flag = "antiExplodeToggleFlag",
    Callback = function(Value)
        antiExplodeT = Value
        antiExplodeF()
    end
})

inv.ChildAdded:Connect(function(c)
	if c.Name == "CreatureBlobman" then
		while not c:FindFirstChild("RightDetector") do task.wait() end
		blob = c
		detector = blob.RightDetector
		CD = blob:FindFirstChild("CreatureDrop", true)
		CG = blob:FindFirstChild("CreatureGrab", true)
	end
end)

local t
local kickblob

local blobtarget = targetTab:CreateDropdown({
Name = "Target",
Options = {"None"},
CurrentOption = {"None"},
MultipleOptions = false,
Callback = function(O)
    local username = O[1]:match("%((.-)%)")
    t = username
end,
})

local kickblob
targetTab:CreateButton({
Name = "Kick Target",
Callback = function()
    local CD = kickblob:FindFirstChild("CreatureDrop", true)
    local CG = kickblob:FindFirstChild("CreatureGrab", true)
    local pos = kickblob.HumanoidRootPart.CFrame
    local tt = game.Players:FindFirstChild(t)
    kickblob.HumanoidRootPart.CFrame = tt.Character.HumanoidRootPart.CFrame
    task.wait(0.6)
    CG:FireServer(detector, tt.Character.HumanoidRootPart, kickblob.RightDetector.RightWeld)
    task.wait(0.6)
    kickblob.HumanoidRootPart.CFrame = pos * CFrame.new(0, 0, 0)
    task.wait(0.6)
    CD:FireServer(kickblob.RightDetector.RightWeld, tt.Character.HumanoidRootPart)
    task.wait(0.5)
    CG:FireServer(kickblob.LeftDetector.LeftWeld, tt.Character.HumanoidRootPart, kickblob.RightDetector.RightWeld)
    task.wait(0.6)
    kickblob.HumanoidRootPart.CFrame = pos
end,
})

local locker1 = false
targetTab:CreateToggle({
   Name = "Kick Right",
   CurrentValue = false,
   Callback = function(Value)
	locker1 = Value
	if locker1 then
		local CD = kickblob:FindFirstChild("CreatureDrop", true)
		local CG = kickblob:FindFirstChild("CreatureGrab", true)
		local pos = kickblob.HumanoidRootPart.CFrame
		local tt = game.Players:FindFirstChild(t)
		if tt.Character and tt.Character:FindFirstChild("HumanoidRootPart") then
			task.spawn(function()
				while locker1 do
					CG:FireServer(detector, tt.Character.HumanoidRootPart, detector.RightWeld)
					task.wait()
					CD:FireServer(detector.RightWeld, tt.Character.HumanoidRootPart)
					task.wait()
					CG:FireServer(detector, tt.Character.HumanoidRootPart, detector.RightWeld)
				end
			end)
		end
	end
   end,
})

local locker2 = false
targetTab:CreateToggle({
   Name = "Kick Bont",
   CurrentValue = false,
   Callback = function(Value)
	locker2 = Value
	if locker2 then
		local CD = kickblob:FindFirstChild("CreatureDrop", true)
		local CG = kickblob:FindFirstChild("CreatureGrab", true)
		local tt = game.Players:FindFirstChild(t)
		if tt.Character and tt.Character:FindFirstChild("HumanoidRootPart") then
			task.spawn(function()
				while locker2 do
					local Character = tt.Character
					if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end
					kickblob.BlobmanSeatAndOwnerScript.CreatureGrab:FireServer(
						kickblob.RightDetector,
						Character.HumanoidRootPart,
						kickblob.RightDetector.RightWeld
					)
					task.wait()
					if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end

					kickblob.BlobmanSeatAndOwnerScript.CreatureDrop:FireServer(
						kickblob.RightDetector.RightWeld,
						Character.HumanoidRootPart
					)
					task.wait()
					if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end
					kickblob.BlobmanSeatAndOwnerScript.CreatureGrab:FireServer(
						kickblob.LeftDetector,
						Character.HumanoidRootPart,
						kickblob.LeftDetector.LeftWeld
					)
					task.wait()
					if not Character or not Character:FindFirstChild("HumanoidRootPart") then return end

					kickblob.BlobmanSeatAndOwnerScript.CreatureDrop:FireServer(
						kickblob.LeftDetector.LeftWeld,
						Character.HumanoidRootPart
					)
					task.wait()
					end
			end)
		end
	end
   end,
})

local locker3 = false
targetTab:CreateToggle({
   Name = "Kick Bont2",
   CurrentValue = false,
   Callback = function(Value)
	locker3 = Value
	if locker3 then
		local CD = kickblob:FindFirstChild("CreatureDrop", true)
		local CG = kickblob:FindFirstChild("CreatureGrab", true)
		local tt = game.Players:FindFirstChild(t)
		if tt.Character and tt.Character:FindFirstChild("HumanoidRootPart") then
			task.spawn(function()
				sno(tt.Character.HumanoidRootPart)
				task.wait(0.3)
				DestroyLine:FireServer(tt.Character.HumanoidRootPart)
				task.wait(0.1)
				tt.Character.Torso.CFrame = HRP.CFrame * CFrame.new(0, 40, 0)
				task.wait(0.1)
				tt.Character.Torso.CFrame = HRP.CFrame * CFrame.new(0, 40, 0)
				task.wait(0.3)
				while locker3 do
					CG:FireServer(detector, tt.Character.HumanoidRootPart, kickblob.RightDetector.RightWeld)
					task.wait()
					CD:FireServer(kickblob.RightDetector.RightWeld, tt.Character.HumanoidRootPart)
					task.wait()
					CG:FireServer(detector, tt.Character.HumanoidRootPart, kickblob.LeftDetector.LeftWeld)
					task.wait()
					CD:FireServer(kickblob.LeftDetector.LeftWeld, tt.Character.HumanoidRootPart)
				end
			end)
		end
	end
   end,
})

local loopwd = false
targetTab:CreateToggle({
   Name = "Loop WD",
   CurrentValue = false,
   Callback = function(v)
	loopwd = v
	if loopwd then
		local tt = game.Players:FindFirstChild(t)
		if tt.Character and tt.Character:FindFirstChild("HumanoidRootPart") then
			task.spawn(function()
				local wd = spawntoy("SprayCanWD", HRP.CFrame * CFrame.new(5, 10, 20))
				while not inv:FindFirstChild("SprayCanWD") do task.wait() end
				sno(inv.SprayCanWD:WaitForChild("Hitbox", 3))
				while loopwd do
					local ttchar = tt.Character
					if wd and inv:FindFirstChild("SprayCanWD") and tt.Character and tt.Character:FindFirstChild("HumanoidRootPart") then
						inv:FindFirstChild("SprayCanWD").SoundPart.CFrame = CFrame.new(0, 1000, 0)
						task.wait(0.3)
						inv:FindFirstChild("SprayCanWD").SoundPart.CFrame = ttchar.HumanoidRootPart.CFrame * CFrame.new(0, 0, 3)
						inv:FindFirstChild("SprayCanWD").SoundPart.AssemblyLinearVelocity = Vector3.zero
                		inv:FindFirstChild("SprayCanWD").SoundPart.AssemblyAngularVelocity = Vector3.zero
					end
					task.wait()
				end
			end)
		end
	end
   end,
})

local antivoid = false

defenseTab:CreateToggle({
Name = "Anti Void",
CurrentValue = false,
Flag = "antivoid",
Callback = function(Value)
    antivoid = Value
    if antivoid then
        workspace.FallenPartsDestroyHeight = -50000
    else
        workspace.FallenPartsDestroyHeight = -100
    end
end,
})

targetTab:CreateSection("Kick ckids")

local kicknotify = false

targetTab:CreateToggle({
Name = "Kick Notify",
CurrentValue = false,
Flag = "kicknotify",
Callback = function(V)
    kicknotify = V
    if kicknotify then
        cons["kicknotifycon"] = game.Players.PlayerRemoving:Connect(function(plrr)
            if workspace:FindFirstChild("BlackHoleKick") then
                Rayfield:Notify({
                Title = "Kicked",
                Content = plrr.Name.."("..plrr.DisplayName..")".." Got Kicked",
                Duration = 6.5,
                Image = 4483362458,
                })
				workspace:FindFirstChild("BlackHoleKick").Name = plrr.Name.."KICK"
            end
        end)
    else
        disc("kicknotifycon")
    end
end,
})

targetTab:CreateSection("view Ckids")

targetTab:CreateButton({
    Name = "Find Blizt User",
    Callback = function()
        for i, v in pairs(workspace:GetDescendants()) do
            if v.Name == "NinjaKunai" then
                if v:FindFirstChild("StickyPart") and v.StickyPart:FindFirstChild("StickyWeld") then
                    local weld = v.StickyPart.StickyWeld
                    local part1 = weld.Part1
                    if part1 and part1.Name == "Left Leg" then
                        local charchar = part1.Parent
                        local playerr = game.Players:FindFirstChild(charchar.Name)
                        Rayfield:Notify({
                            Title = "BLIZT USER FOUND",
                            Content = playerr.DisplayName,
                            Duration = 3,
                            Image = 4483362458,
                        })
                    end
                end
            end
        end
    end,
})

targetTab:CreateButton({
    Name = "Find SRV9|ELYSIUM User",
    Callback = function()
        for i, v in pairs(workspace:GetDescendants()) do
            if v.Name == "NinjaKunai" then
                if v:FindFirstChild("StickyPart") and v.StickyPart:FindFirstChild("StickyWeld") then
                    local weld = v.StickyPart.StickyWeld
                    local part1 = weld.Part1
                    if part1 and part1.Name == "Torso" then
                        local charchar = part1.Parent
                        local playerr = game.Players:FindFirstChild(charchar.Name)
                        Rayfield:Notify({
                            Title = "SRV9|ELYSIUM USER FOUND",
                            Content = playerr.DisplayName,
                            Duration = 5,
                            Image = 4483362458,
                        })
                    end
                end
            end
        end
    end,
})

targetTab:CreateSection("Destroy blobs")

local destroyblobt

local destroyblobDropdown = targetTab:CreateDropdown({
   Name = "Target",
   Options = {"None"},
   CurrentOption = {"None"},
   MultipleOptions = false,
   Callback = function(O)
       local username = O[1]:match("%((.-)%)")
       destroyblobt = Players:FindFirstChild(username)
   end,
})

targetTab:CreateButton({
   Name = "Destroy Blobman",
   Callback = function()
   	if destroyblobt then
		for i = 1, 9 do
            while plr.CanSpawnToy.Value ~= true do task.wait() end
            local shur = spawntoy("NinjaShuriken", HRP.CFrame * CFrame.new(5, 10, 20))
			task.wait(0.1)
			sno(shur.StickyPart)
			shur.PrimaryPart.CFrame = CFrame.new(0, 1e9, 0)
            shur.Name = i
		end
		for i = 1, 9 do
			StickyEvent:FireServer(
				inv[i].StickyPart,
				workspace[destroyblobt.Name.."SpawnedInToys"].CreatureBlobman.Head,
				CFrame.new(0,3,0,0,0,0,0,0,0,0,0,0)
            )
		end
	end
   end,
})


local killt

local killtar = loopTab:CreateDropdown({
Name = "Target",
Options = {"None"},
CurrentOption = {"None"},
MultipleOptions = false,
Callback = function(O)
    local username = O[1]:match("%((.-)%)")
    killt = username
end,
})

local loopkill = false
loopTab:CreateToggle({
   Name = "Loop Kill",
   CurrentValue = false,
   Callback = function(Value)
	loopkill = Value
	if loopkill then
		local pos = HRP.CFrame
		local tt = game.Players:FindFirstChild(killt)
        if loopkill then
            HRP.CFrame = tt.Character.HumanoidRootPart.CFrame
            task.wait(0.2)
            sno(tt.Character.HumanoidRootPart)
            task.wait(0.3)
            if tt.Character and tt.Character:FindFirstChild("Humanoid") then
                tt.Character.HumanoidRootPart.CFrame = CFrame.new(0, 1e9, 0)
				tt.Character.Humanoid.Health = 0
				task.wait()
				DestroyLine:FireServer(tt.Character.HumanoidRootPart)
            end
            task.wait(0.1)
            HRP.CFrame = pos
            cons["loopkill"] = tt.CharacterAdded:Connect(function(char)
                task.wait(1)
                if loopkill and char and char:FindFirstChild("HumanoidRootPart") then
                    HRP.CFrame = char.HumanoidRootPart.CFrame
					task.wait(0.1)
                    sno(tt.Character.HumanoidRootPart)
                    task.wait(0.3)
					if tt.Character and tt.Character:FindFirstChild("Humanoid") then
						tt.Character.HumanoidRootPart.CFrame = CFrame.new(0, 1e9, 0)
						tt.Character.Humanoid.Health = 0
						DestroyLine:FireServer(tt.Character.HumanoidRootPart)
					end
                    task.wait(1)
                    HRP.CFrame = pos
                end
            end)
        else
            disc("loopkill")
        end
    end
end,
})

targetTab:CreateSection("Explode")

targetTab:CreateToggle({
   Name = "Explode Target",
   CurrentValue = false,
   Callback = function(Value)
	exptar = Value
	while exptar do
		local tar = Players:FindFirstChild(t)
		local tarchar = tar and tar.Character
		local hrp = tarchar and tarchar:FindFirstChild("HumanoidRootPart")
		if hrp then
			local bomb = spawntoy("BombMissile", HRP.CFrame * CFrame.new(5, 10, 20))
			local Part = bomb:WaitForChild("Body", 3)
			if not Part then continue end
			while not Part:FindFirstChild("PartOwner") or Part:FindFirstChild("PartOwner") and Part:FindFirstChild("PartOwner").Value ~= plr.Name do
				if (Part.Position - HRP.Position).Magnitude < 70 then
					sno(Part)
					task.wait()
				else
					DestroyToy:FireServer(bomb)
					task.wait()
					continue
				end
				task.wait()
			end
			BombExplode:FireServer(
				{
					["Hitbox"] = bomb.PartHitDetector,
					["PositionPart"] = hrp
				},
				hrp.Position
			)
		end
		task.wait()
	end
   end,
})

miscTab:CreateToggle({
    Name = "View PCLD",
    CurrentValue = false,
    Flag = "viewpcld",
    Callback = function(v)
        if v then
            
            for _, pcld in pairs(workspace:GetChildren()) do
                if pcld.Name == "PlayerCharacterLocationDetector" then
                    -- Настройка внешнего вида
                    pcld.Transparency = 0.8
                    pcld.BrickColor = BrickColor.new("Really black")
                    pcld.Material = Enum.Material.Neon
                end
            end
            
            cons["pcldview"] = workspace.ChildAdded:Connect(function(c)
                if c.Name == "PlayerCharacterLocationDetector" then
                    c.Transparency = 0.3

                    c.BrickColor = BrickColor.new("Really black")
                    c.Material = Enum.Material.Neon
                end
            end)
        else
            
            if cons["pcldview"] then
                cons["pcldview"]:Disconnect()
                cons["pcldview"] = nil
            end
            
            for _, pcld in pairs(workspace:GetChildren()) do
                if pcld.Name == "PlayerCharacterLocationDetector" then
                    pcld.Transparency = 1 
                end
            end
        end
    end
})






local Paragraph = miscTab:CreateParagraph({Title = "misc Tab", Content = "нажимаешь на бумбокс 1 раз и врубаешь кнопку все"})

local toggleActive = false
local controlLoop 

Toggle = miscTab:CreateToggle({
   Name = "Boombox On the back",
   CurrentValue = false,
   Flag = "Toggle1", 
   Callback = function(Value)
       toggleActive = Value
       if toggleActive then
           
           for i,v in pairs(inv:FindFirstChild("Boombox"):GetChildren()) do
               if v:IsA("BasePart") then 
                   v.CanCollide = false 
                   v.CanTouch = false
               end
           end

           controlLoop = task.spawn(function()
               while toggleActive and inv:FindFirstChild("Boombox") do
                   task.wait()
                   local boombox = inv.Boombox
                   local char = game.Players.LocalPlayer.Character
                   if not char or not char:FindFirstChild("Torso") then continue end
                   local torsoCFrame = char.Torso.CFrame
                   boombox.PrimaryPart.CFrame = torsoCFrame * CFrame.new(-1, -1, 1) * CFrame.Angles(0, math.rad(180), math.rad(45))
                   boombox.PrimaryPart.AssemblyAngularVelocity = Vector3.zero
                   boombox.PrimaryPart.AssemblyLinearVelocity = Vector3.zero

                   local hitbox = boombox:FindFirstChild("Hitbox")
                   if hitbox and (not hitbox:FindFirstChild("PartOwner") or hitbox.PartOwner.Value ~= game.Players.LocalPlayer.Name) then
                       if boombox:GetChildren()[14] and boombox:GetChildren()[14]:FindFirstChild("PartOwner") then
                           
                           continue
                       end
                       for _,v in pairs(boombox:GetChildren()) do
                           if v.Name == "Hitbox" then
                               game.ReplicatedStorage.GrabEvents.SetNetworkOwner:FireServer(v, v.CFrame)
                           end
                       end
                   end
               end
           end)
       else
           
           if controlLoop then
               
               toggleActive = false
               
           end
       end
   end,
})


autoTab:CreateToggle({
   Name = "Auto Plot",
   CurrentValue = false,
   Flag = "Autohome",
   Callback = function(v)
	if v then
		local plot
		repeat task.wait() plot = getplot() until plot
		if plot then
			cons["autplot"] = plot.PlotSign.ThisPlotsOwners.Value.TimeRemainingNum.Changed:Connect(function(num)
				if num < 10 then
					local pos = HRP.CFrame
					task.wait(0.1)
					HRP.CFrame = plot.PlotSign.Sign.Part.CFrame
					task.wait(0.4)
					HRP.CFrame = pos
				end
			end)
		end
	else
		disc("autplot")
	end
   end,
})



local function UpdatePlayerLists()
    local list = {}
    for _, pl in ipairs(Players:GetPlayers()) do
        if pl ~= plr then
            table.insert(list, pl.DisplayName.." ("..pl.Name..")")
        end
    end
    killtar:Refresh(list)
    blobtarget:Refresh(list)
    selectedTargetDropdown:Refresh(list)
end

local function UpdatePlayerListsForDestroyBlobman()
    local list = {}
    for _, pl in ipairs(Players:GetPlayers()) do
        table.insert(list, pl.DisplayName.." ("..pl.Name..")")
    end
    destroyblobDropdown:Refresh(list)
end

Players.PlayerAdded:Connect(UpdatePlayerLists)
Players.PlayerRemoving:Connect(UpdatePlayerLists)
UpdatePlayerLists()

Players.PlayerAdded:Connect(UpdatePlayerListsForDestroyBlobman)
Players.PlayerRemoving:Connect(UpdatePlayerListsForDestroyBlobman)
UpdatePlayerListsForDestroyBlobman()

task.spawn(function()
    while true do
        kickblob = getSeatedBlobman()
        b = getSeatedBlobman()
        task.wait(0.1)
    end
end)

task.spawn(function()
    while task.wait() do
        local char1 = plr.Character
        if char1 and char1:FindFirstChild("HumanoidRootPart") then
            char1.HumanoidRootPart.Massless = false
            task.wait(0.1)
        end
    end
end)

task.spawn(function()
	while task.wait() do
		game:GetService("UserInputService").MouseIconEnabled = true
	end
end)

targetTab:CreateSection("Aura blobman")


local loopkick = false

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local ReplicatedFirst = game:GetService("ReplicatedFirst")
local Players = game:GetService("Players")

local grabEvents = ReplicatedStorage:WaitForChild("GrabEvents")
local ownershipevent = grabEvents:WaitForChild("SetNetworkOwner")
local grabevent = grabEvents:WaitForChild("CreateGrabLine")
local dropevent = grabEvents:WaitForChild("DestroyGrabLine")
local unownerevent = grabEvents:WaitForChild("EndGrabEarly")

local grabPart = ReplicatedFirst:WaitForChild("GrabParts"):WaitForChild("GrabPart")
local attach = grabPart:FindFirstChild("GrabAttach")
local weldConstraint = grabPart:FindFirstChild("WeldConstraint")

local function ownership(part)
    ownershipevent:FireServer(part, part.CFrame)
end

local function unownership(part)
    unownerevent:FireServer(part)
end

local function grab(hand, part, attach)
    grabevent:FireServer(hand, part, attach)
end

local function drop(weld, part)
    dropevent:FireServer(weld, part)
end

local function FindBlob(hum)
    local seat = hum.SeatPart
    if seat then
        return seat:FindFirstAncestor("CreatureBlobman")
    end
    return nil
end

local function isPlayerAlive(player)
    if not player or not player.Character then
        return false
    end
    
    local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
    if not humanoid then
        return false
    end
    
    return humanoid.Health > 0
end

local function cleanupProcessedPlayers()
    for player, _ in pairs(processedPlayers) do
        if not player:IsDescendantOf(Players) or not player.Character or not isPlayerAlive(player) then
            processedPlayers[player] = nil
        end
    end
end

local function getPlayersInRadius(radius)
    local localPlayer = Players.LocalPlayer
    local char = localPlayer.Character
    if not char then return {} end
    
    local hrp = char:FindFirstChild("HumanoidRootPart")
    if not hrp then return {} end
    
    local localPosition = hrp.Position
    local playersInRadius = {}
    
    cleanupProcessedPlayers()
    
    for _, player in ipairs(Players:GetPlayers()) do
        if player ~= localPlayer and isPlayerAlive(player) and not processedPlayers[player] then
            local targetChar = player.Character
            if targetChar then
                local targetHrp = targetChar:FindFirstChild("HumanoidRootPart")
                if targetHrp then
                    local distance = (targetHrp.Position - localPosition).Magnitude
                    if distance <= radius then
                        table.insert(playersInRadius, player)
                    end
                end
            end
        end
    end
    
    return playersInRadius
end

local function executeAuraLogic(targetPlayer)
    local localPlayer = Players.LocalPlayer
    local char = localPlayer.Character
    if not char then return end
    
    local hrp = char:WaitForChild("HumanoidRootPart", 2)
    local localHead = char:WaitForChild("Head", 2)
    if not hrp or not localHead then return end

    local targetChar = targetPlayer.Character
    if not targetChar then return end
    
    local targetroot = targetChar:WaitForChild("HumanoidRootPart", 2)
    if not targetroot then return end

    grab(targetroot)
    task.wait(0.1)

    ownership(targetroot)
    task.wait(0.1)

    targetroot.CFrame = localHead.CFrame * CFrame.new(0, 20, 0)
    task.wait(0.1)

    drop(targetroot)
    task.wait()

    unownership(targetroot)
    task.wait()

    local hum = char:FindFirstChild("Humanoid")
    if hum then
        local blob = FindBlob(hum)
        if blob then
            local scriptObj = blob:FindFirstChild("BlobmanSeatAndOwnerScript")
            local rightDetector = blob:FindFirstChild("RightDetector")
            local leftDetector = blob:FindFirstChild("LeftDetector")
            if scriptObj and rightDetector and leftDetector then
                scriptObj.CreatureGrab:FireServer(rightDetector, targetroot, rightDetector.RightWeld)
                task.wait()

                scriptObj.CreatureGrab:FireServer(leftDetector, targetroot, leftDetector.LeftWeld)
                task.wait()
            end
        end
    end
    
    processedPlayers[targetPlayer] = true
end

local blobLooptwohands = targetTab:CreateToggle({
    Name = "Aura blobman {kick}",
    CurrentValue = false,
    Flag = "Toggle1",
    Callback = function(Value)
        loopkick = Value
        
        if not loopkick then
            processedPlayers = {}
        end

        if loopkick then
            task.spawn(function()
                while loopkick do
                    local playersInRadius = getPlayersInRadius(20)
                    
                    for _, player in ipairs(playersInRadius) do
                        if not loopkick then break end

                        task.spawn(function()
                            executeAuraLogic(player)
                        end)
                    end
                    
                    task.wait()
                end
            end)
        end
    end
})

local SpeedBlobButton = targetTab:CreateButton({
    Name = "SpeedBlobForAura",
    Callback = function()
        local character = localPlayer.Character
        
        if character then
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                local seat = humanoid.SeatPart
                if seat then
                    local blob = seat:FindFirstAncestor("CreatureBlobman")
                    if blob then
                        local humanoidCreature = blob:FindFirstChild("HumanoidCreature")
                        if humanoidCreature then
                            humanoidCreature.WalkSpeed = 75
                        end
                    end
                end
            end
        end
    end
})

targetTab:CreateSection("kill")


getgenv().mainScriptVars = {
    isnetworkowner = function(Part)
        if Part.ReceiveAge == 0 and not Part.Anchored then
            return true
        end
        return false
    end,
    RunService = game:GetService("RunService"),
    Players = game:GetService("Players"),
    ReplicatedStorage = game:GetService("ReplicatedStorage"),
    LocalPlayer = game:GetService("Players").LocalPlayer,
    targetNames = {},
    loopActive = false,
    lastPositions = {},
    stayDuration = 0.000000000001,
    returnDuration = 1,
    magnetRange = 1,
    teleportSpeed = 0.8,
    playerIsInVoid = false,
    startPosition = nil
}

local vars = getgenv().mainScriptVars

local function updatePlayerList()
    local playerNames = {}
    for _, player in ipairs(vars.Players:GetPlayers()) do
        if player ~= vars.LocalPlayer then
            local displayText = player.Name
            if player.DisplayName ~= player.Name then
                displayText = player.Name .. " [" .. player.DisplayName .. "]"
            end
            table.insert(playerNames, displayText)
        end
    end
    return playerNames
end

targetTab:CreateDropdown({
    Name = "Select players",
    Options = updatePlayerList(),
    CurrentOption = {},
    MultipleOptions = true,
    Flag = "TargetPlayersDropdown",
    Callback = function(Options)
        vars.targetNames = {}
        for _, option in ipairs(Options) do
            local username = option
            if option:find("%[.*%]") then
                username = option:match("^(.-) %[.*%]$")
            end
            table.insert(vars.targetNames, username)
        end
    end,
})


vars.Players.PlayerAdded:Connect(function(player)
    playerDropdown:Refresh(updatePlayerList(), true)
end)

vars.Players.PlayerRemoving:Connect(function(player)
    playerDropdown:Refresh(updatePlayerList(), true)
end)



local deathGrabToggle = false

targetTab:CreateToggle({
    Name = "Kill Target [ INPUT LAG ]",
    CurrentValue = false,
    Callback = function(Value)
        deathGrabToggle = Value
        
        if Value then
            task.spawn(function()
                if not vars.targetNames or #vars.targetNames == 0 then
                    deathGrabToggle = false
                    return
                end

                local targetName = vars.targetNames[1]
                local me = game.Players.LocalPlayer
                
                while deathGrabToggle do
                    local target = game.Players:FindFirstChild(targetName)
                    
                    if not target or not target.Character then
                        task.wait(0.1)
                        continue
                    end

                    local character = me.Character
                    if not character then
                        deathGrabToggle = false
                        return
                    end

                    local root = character:FindFirstChild("HumanoidRootPart")
                    local hum = character.Humanoid
                    if not root or not hum then
                        deathGrabToggle = false
                        return
                    end

                    local target_root = target.Character.HumanoidRootPart
                    local target_hum = target.Character.Humanoid
                    if not target_root or not target_hum then
                        task.wait(0.1)
                        continue
                    end

                    local originalCFrame = root.CFrame

                    root.CFrame = target_root.CFrame * CFrame.new(1, 0, 0)
                    task.wait(0.1)

                    local blob = hum.SeatPart and hum.SeatPart.Parent
                    if not blob or blob.Name ~= "CreatureBlobman" then
                        root.CFrame = originalCFrame
                        task.wait(0.1)
                        continue
                    end

                    local grab = blob.BlobmanSeatAndOwnerScript.CreatureGrab
                    local drop = blob.BlobmanSeatAndOwnerScript.CreatureRelease
                    local dt, wd = blob.LeftDetector, blob.LeftDetector.LeftWeld

                    if not grab or not drop or not dt or not wd then
                        root.CFrame = originalCFrame
                        task.wait(0.1)
                        continue
                    end

                    grab:FireServer(dt, target_root, wd)
                    task.wait()
                    target_hum:ChangeState(Enum.HumanoidStateType.Dead)
                    task.wait()
                    drop:FireServer(wd)
                    task.wait()
                    grab:FireServer(dt, target_root, wd)
                    task.wait()
                    target_hum:ChangeState(Enum.HumanoidStateType.Dead)
                    task.wait()
                    drop:FireServer(wd)


                    local pos = target_root.Position
                    target_root.Position = Vector3.new(0, -1e6, 0)
                    task.wait()
                    target_root.Position = pos

                    root.CFrame = originalCFrame

                    while deathGrabToggle and target and (not target.Character or not target.Character.HumanoidRootPart or target.Character.Humanoid.Health <= 0) do
                        task.wait(0.1)
                    end
                    
                    task.wait(0.5)
                end
            end)
        end
    end,
})


targetTab:CreateSection("kill Gucci")


local Button = targetTab:CreateButton({
    Name = "[ REMOVE ] GUCCI",
    Callback = function()
        if not t or t == "None" then return end

        local targetPlayer = Players:FindFirstChild(t)
        local localPlayer = Players.LocalPlayer
        if not targetPlayer or not targetPlayer.Character or not localPlayer.Character then return end

        local localHumanoid = localPlayer.Character:FindFirstChild("Humanoid")
        local localHRP = localPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not localHumanoid or not localHRP then return end


        local blobs = {}

        local TarInv = workspace:FindFirstChild(t .. "SpawnedInToys")
        if TarInv then
            for _, v in pairs(TarInv:GetChildren()) do
                if v.Name == "CreatureBlobman" then
                    table.insert(blobs, v)
                end
            end
        end

        for _, plot in pairs(workspace.Plots:GetChildren()) do
            for _, owner in pairs(plot.PlotSign.ThisPlotsOwners:GetChildren()) do
                if owner.Value == t then
                    local toyFolder = workspace.PlotItems:FindFirstChild(plot.Name)
                    if toyFolder then
                        for _, v in pairs(toyFolder:GetChildren()) do
                            if v.Name == "CreatureBlobman" then
                                table.insert(blobs, v)
                            end
                        end
                    end
                end
            end
        end

        if #blobs == 0 then return end

        local oldCF = localHRP.CFrame
        for _, v in pairs(blobs) do
            local blobHRP = v:FindFirstChild("HumanoidRootPart")
            if blobHRP then

                localHRP.CFrame = blobHRP.CFrame * CFrame.new(0, 2, 0)
            end
            for i = 1, 2 do
                task.wait(0.1)
                local seat = v:FindFirstChild("VehicleSeat")
                if seat then
                    seat:Sit(localHumanoid)
                    task.wait(0.1)
                    localHumanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                    task.wait(0.1)
                end
            end
            localHRP.CFrame = oldCF
        end
    end
})

local Lighting = game:GetService("Lighting")
local Players = game:GetService("Players")


Lighting.TimeOfDay = "00:00:00"
Lighting.Ambient = Color3.new(0.02, 0.02, 0.05)
Lighting.Brightness = 0.05


local function createStarfield()
    local starfield = Instance.new("Part")
    starfield.Name = "Starfield"
    starfield.Anchored = true
    starfield.CanCollide = false
    starfield.Size = Vector3.new(1000, 500, 1000)
    starfield.Position = Vector3.new(0, 250, 0)
    starfield.Transparency = 1
    
    local particleEmitter = Instance.new("ParticleEmitter")
    particleEmitter.Texture = "rbxasset://textures/particles/sparkles_main.dds"
    particleEmitter.Lifetime = NumberRange.new(100, 100)
    particleEmitter.Rate = 50
    particleEmitter.SpreadAngle = Vector2.new(180, 180)
    particleEmitter.Speed = NumberRange.new(0, 0)
    particleEmitter.Size = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0.05),
        NumberSequenceKeypoint.new(1, 0.05)
    })
    particleEmitter.Transparency = NumberSequence.new({
        NumberSequenceKeypoint.new(0, 0),
        NumberSequenceKeypoint.new(0.5, 0.3),
        NumberSequenceKeypoint.new(1, 1)
    })
    particleEmitter.LightEmission = 0.8
    particleEmitter.Color = ColorSequence.new(Color3.new(1, 1, 0.9))
    particleEmitter.Parent = starfield
    
    starfield.Parent = workspace
    return starfield
end


local starfield = createStarfield()

print()


targetTab:CreateSection("kick spam")


local target_toggles = {
    kick_player_en = false
}
local val = {
    players_to_kill = {},
    target_players = {},
    v_inf = Vector3.new(math.huge, math.huge, math.huge)
}
local serv = {
    others = game:GetService("Players")
}
local me = plr


local function get_char(player)
    return player.Character
end

local function get_hrp(char)
    return char:FindFirstChild("HumanoidRootPart")
end

local function get_hum(char)
    return char:FindFirstChild("Humanoid")
end

local function get_magnitude(part1, part2)
    return (part1.Position - part2.Position).Magnitude
end

local function invis_touch(part, cf)
    SetNetOwner:FireServer(part, cf)
end


targetTab:CreateSection("Kick System")


local kickTargetDropdown = targetTab:CreateDropdown({
    Name = "Kick Targets",
    Options = {"None"},
    CurrentOption = {},
    MultipleOptions = true,
    Flag = "KickTargets",
    Callback = function(Options)
        val.players_to_kill = {}
        val.target_players = {}
        for _, option in ipairs(Options) do
            if option ~= "None" then
                local username = option:match("%((.-)%)")
                table.insert(val.players_to_kill, username)
                table.insert(val.target_players, username)
            end
        end
    end,
})


local function UpdateKickPlayerList()
    local list = {"None"}
    for _, pl in ipairs(Players:GetPlayers()) do
        if pl ~= plr then
            table.insert(list, pl.DisplayName.." ("..pl.Name..")")
        end
    end
    kickTargetDropdown:Refresh(list)
end


Players.PlayerAdded:Connect(UpdateKickPlayerList)
Players.PlayerRemoving:Connect(UpdateKickPlayerList)
UpdateKickPlayerList()


targetTab:CreateToggle({
    Name = "Kick Spam", 
    CurrentValue = false,
    Flag = "loopkick_toggle",
    Callback = function(bool) 
        target_toggles.kick_player_en = bool

        if not target_toggles.kick_player_en then
            for i, name in pairs(val.players_to_kill) do
                local target = serv.others:FindFirstChild(name)
                local target_char = target and get_char(target)
                local target_hrp = target_char and get_hrp(target_char)
                local pos = target_hrp and target_hrp:FindFirstChild("BodyPosition")
                local gyro = target_hrp and target_hrp:FindFirstChild("BodyGyro")

                if target_hrp and gyro and pos then
                    gyro:Destroy()
                    pos:Destroy()
                end
            end
        end

        while target_toggles.kick_player_en do
            for i, name in pairs(val.target_players) do
                local char = get_char(me)
                local hrp = char and get_hrp(char)
                local hum = char and get_hum(char)
                local target = serv.others:FindFirstChild(name)
                local target_char = target and get_char(target)
                local target_hrp = target_char and get_hrp(target_char)

                if target and hrp and target_hrp then 
                    local oldcf = hrp.CFrame

                    
                    local position = target_hrp:FindFirstChild("BodyPosition") or Instance.new("BodyPosition")
                    position.Position = hrp.Position + Vector3.new(0, 10, -7)
                    position.MaxForce = val.v_inf
                    position.D = 200
                    position.Parent = target_hrp
                    
                    local gyro = target_hrp:FindFirstChild("BodyGyro") or Instance.new("BodyGyro")
                    gyro.CFrame = hrp.CFrame
                    gyro.MaxTorque = val.v_inf
                    gyro.Parent = target_hrp
                    if target_hrp and target_hrp.Position.Y < 2000 then
                        task.spawn(function()
                            invis_touch(target_hrp, target_hrp.CFrame)
                        end)
                        task.wait()
                        DestroyLine:FireServer(target_hrp)  
                    end

                    
                    local spawned = workspace:FindFirstChild(target.Name.."SpawnedInToys")
                    if spawned and spawned:FindFirstChild("NinjaKunai") then
                        local kun = spawned:FindFirstChild("NinjaKunai")
                        local part = kun:FindFirstChild("SoundPart")
                        if part then
                            invis_touch(part, part.CFrame)
                            if part:FindFirstChild("PartOwner") and part:FindFirstChild("PartOwner").Value == me.Name then
                                part.CFrame = CFrame.new(0, 1000, 0)
                            end
                        end
                    end
                    if spawned and spawned:FindFirstChild("NinjaShuriken") then
                        local shurk = spawned:FindFirstChild("NinjaShuriken")
                        local part = shurk:FindFirstChild("SoundPart")
                        if part then
                            invis_touch(part, part.CFrame)
                            if part:FindFirstChild("PartOwner") and part:FindFirstChild("PartOwner").Value == me.Name then
                                part.CFrame = CFrame.new(0, 1000, 0)
                            end
                        end
                    end

                    
                    if target_hrp and target_hrp.Position.Y < 2000 and get_magnitude(hrp, target_hrp) > 20 then
                        oldcf = hrp.CFrame
                        hrp.CFrame = target_hrp.CFrame * CFrame.new(0, 0, -7)
                        task.wait(.3)
                        hrp.CFrame = oldcf
                        task.wait(.01)
                    end
                end
            end
            task.wait()
        end
    end
})

Rayfield:LoadConfiguration()
